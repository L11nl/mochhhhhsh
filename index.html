<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NAS</title>
  <meta name="description" content="NAS - Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ø´ØªØ±Ø§ÙƒØ§Øª Ø±Ù‚Ù…ÙŠØ© | Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØ§Ù†Ø³ØªØºØ±Ø§Ù…" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap');

    :root{
      /* Dark (default) â€” removed cyan */
      --bg:#070A12;
      --text:#F2F6FF;
      --muted:#AAB4D8;

      --glass: rgba(255,255,255,.075);
      --glass2: rgba(255,255,255,.04);
      --border: rgba(255,255,255,.14);

      --radius:24px;
      --shadow: 0 24px 80px rgba(0,0,0,.55);

      /* Palette without sky/cyan */
      --p1:#7C4DFF;   /* purple */
      --p2:#FF4D8D;   /* pink */
      --p3:#FFDB4D;   /* gold */
      --p4:#A855F7;   /* violet */

      --btn: rgba(255,255,255,.085);
      --wa:#25D366;

      --glow1: rgba(124,77,255,.25);
      --glow2: rgba(255,77,141,.18);
      --glow3: rgba(255,219,77,.10);

      color-scheme: dark;
    }

    [data-theme="light"]{
      --bg:#F6F7FB;
      --text:#0B1220;
      --muted:#3F4B68;

      --glass: rgba(10,18,32,.06);
      --glass2: rgba(10,18,32,.04);
      --border: rgba(10,18,32,.12);

      --shadow: 0 22px 70px rgba(0,0,0,.12);

      --btn: rgba(10,18,32,.06);

      --glow1: rgba(124,77,255,.16);
      --glow2: rgba(255,77,141,.12);
      --glow3: rgba(255,219,77,.10);

      color-scheme: light;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Cairo", system-ui, -apple-system, "Segoe UI", Tahoma, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 30% -10%, var(--glow1), transparent 58%),
        radial-gradient(1000px 650px at 90% 5%, var(--glow2), transparent 62%),
        radial-gradient(900px 600px at 20% 110%, var(--glow3), transparent 60%),
        var(--bg);
      overflow-x:hidden;
    }
    a{color:inherit}
    .container{max-width:1160px;margin:0 auto;padding:22px}

    /* Winter background */
    #winter{
      position:fixed; inset:0;
      z-index:0;
      pointer-events:none;
      opacity:.55;
    }
    .layer{position:relative; z-index:2;}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:70;
      background: color-mix(in srgb, var(--bg) 55%, transparent);
      backdrop-filter: blur(12px);
      border-bottom:1px solid var(--border);
    }
    .topbar__inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      background: var(--glass);
      box-shadow: 0 12px 45px rgba(0,0,0,.18);
      color: var(--muted);
      font-size: 13px;
      white-space:nowrap;
      position:relative;
      overflow:hidden;
    }
    .chip.shiny{
      color: var(--text);
      font-weight: 900;
      letter-spacing: .2px;
    }
    .chip.shiny::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: linear-gradient(90deg,
        transparent,
        rgba(255,255,255,.22),
        transparent
      );
      transform: translateX(-120%);
      animation: shine 2.2s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes shine{
      0%{ transform: translateX(-120%); opacity: .0; }
      20%{ opacity: .75; }
      70%{ opacity: .22; }
      100%{ transform: translateX(120%); opacity: 0; }
    }

    .topActions{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }

    .iconBtn{
      width:44px;height:44px;
      display:inline-grid;
      place-items:center;
      border-radius:16px;
      border:1px solid var(--border);
      background: var(--btn);
      cursor:pointer;
      transition: transform .14s ease, filter .14s ease;
      text-decoration:none;
      position:relative;
      overflow:hidden;
    }
    .iconBtn:hover{filter:brightness(1.06); transform: translateY(-1px)}
    .iconBtn:active{transform: translateY(0px)}
    .iconBtn svg{width:22px;height:22px}

    /* Language + Theme */
    .select{
      border:1px solid var(--border);
      background: var(--btn);
      color: var(--text);
      padding:10px 12px;
      border-radius:16px;
      font-weight:900;
      cursor:pointer;
      outline:none;
      position:relative;
      overflow:hidden;
    }
    .toggle{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid var(--border);
      background: var(--btn);
      cursor:pointer;
      user-select:none;
      font-weight:900;
      position:relative;
      overflow:hidden;
    }
    .toggle .dot{
      width:12px;height:12px;border-radius:999px;
      background: linear-gradient(135deg, var(--p1), var(--p2));
      box-shadow: 0 0 0 4px color-mix(in srgb, var(--p1) 18%, transparent);
    }

    /* Ripple */
    .rippleSpan{
      position:absolute;
      border-radius:999px;
      transform: scale(0);
      animation: ripple .55s ease-out;
      background: color-mix(in srgb, var(--text) 25%, transparent);
      pointer-events:none;
      mix-blend-mode: screen;
    }
    @keyframes ripple{
      to{ transform: scale(4); opacity: 0; }
    }

    /* Hero */
    .hero{padding:22px 0 10px}
    .heroGrid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:16px;
      align-items:stretch;
    }
    .heroCard{
      border:1px solid var(--border);
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .heroCard::before{
      content:"";
      position:absolute;
      inset:-160px;
      background:
        radial-gradient(circle at 30% 30%, rgba(124,77,255,.35), transparent 55%),
        radial-gradient(circle at 75% 20%, rgba(255,77,141,.24), transparent 55%),
        radial-gradient(circle at 55% 70%, rgba(255,219,77,.16), transparent 60%);
      filter: blur(22px);
      opacity:.95;
      pointer-events:none;
    }
    .heroInner{
      position:relative;
      padding: 20px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .nasPlate{
      position:relative;
      width:fit-content;
      padding: 14px 18px;
      border-radius: 22px;
      border: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
      background: color-mix(in srgb, var(--glass) 90%, transparent);
      box-shadow:
        0 18px 60px rgba(0,0,0,.35),
        0 0 0 1px color-mix(in srgb, var(--p1) 16%, transparent) inset;
      overflow:hidden;
    }
    .nasPlate::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: conic-gradient(from 120deg,
        rgba(124,77,255,.45),
        rgba(255,77,141,.35),
        rgba(255,219,77,.28),
        rgba(168,85,247,.40),
        rgba(124,77,255,.45)
      );
      opacity:.22;
      filter: blur(18px);
      pointer-events:none;
      animation: spin 8s linear infinite;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    .nasText{
      position:relative;
      font-size: 62px;
      font-weight: 900;
      letter-spacing: 2px;
      line-height:1;
      text-shadow:
        0 2px 0 rgba(255,255,255,.08),
        0 10px 0 rgba(0,0,0,.22),
        0 22px 35px rgba(0,0,0,.35);
      background: linear-gradient(90deg, var(--p1), var(--p2), var(--p3), var(--p4), var(--p1));
      background-size: 420% 100%;
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      animation: hue 6s ease-in-out infinite;
    }
    @keyframes hue{
      0%{ background-position:0% 50% }
      50%{ background-position:100% 50% }
      100%{ background-position:0% 50% }
    }

    .subtitle{
      color:var(--muted);
      font-size: 15px;
      line-height: 1.9;
      max-width: 62ch;
    }
    .hrGlow{
      height:1px;
      background: linear-gradient(90deg, transparent, color-mix(in srgb, var(--text) 28%, transparent), transparent);
      border:0;
      margin: 6px 0 0;
      opacity:.9;
    }

    .side{
      border:1px solid var(--border);
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:18px;
      position:relative;
      overflow:hidden;
    }
    .side h3{margin:0 0 8px; font-size:18px}
    .side p{margin:0; color:var(--muted); line-height:1.95}

    /* Products */
    .sectionTitle{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      margin: 18px 0 10px;
    }
    .sectionTitle h2{margin:0; font-size:22px}
    .sectionTitle .muted{color:var(--muted); font-size:13px}

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
      margin-top: 10px;
    }

    .card{
      border:1px solid var(--border);
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(700px 260px at 10% 0%, rgba(124,77,255,.12), transparent 60%),
        radial-gradient(700px 260px at 95% 10%, rgba(255,77,141,.10), transparent 60%);
      pointer-events:none;
      opacity:.95;
    }

    .cardBody{
      position:relative;
      padding: 16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      min-height: 315px;
    }

    .headRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }

    .app{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }

    /* Icon is guaranteed visible */
    .appIcon{
      width:46px;height:46px;
      border-radius: 16px;
      border:1px solid var(--border);
      background:
        linear-gradient(135deg,
          color-mix(in srgb, var(--p1) 35%, transparent),
          color-mix(in srgb, var(--p2) 25%, transparent)
        );
      display:grid;
      place-items:center;
      overflow:hidden;
      flex:0 0 auto;
      box-shadow: 0 14px 40px rgba(0,0,0,.18);
    }
    .appIcon img{
      width:28px;height:28px;
      display:block;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.22));
    }
    .appIcon .fallback{
      display:none;
      font-weight: 900;
      font-size: 14px;
      color: var(--text);
      letter-spacing:.5px;
    }

    .names{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width:0;
    }
    .names .en{
      font-weight: 900;
      font-size: 17px;
      line-height:1.2;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      direction:ltr;
      text-align:right;
    }
    .names .ar{
      color:var(--muted);
      font-size: 12.5px;
      font-weight: 800;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .price{
      font-weight: 900;
      font-size: 15px;
      white-space:nowrap;
      background: color-mix(in srgb, var(--glass) 85%, transparent);
      border:1px solid var(--border);
      padding:8px 10px;
      border-radius: 16px;
      line-height: 1.2;
      text-align:center;
      min-width: 120px;
    }
    .price .sub{
      display:block;
      margin-top:6px;
      font-size: 12px;
      font-weight: 800;
      color: var(--muted);
      white-space:nowrap;
    }

    .desc{
      color:var(--muted);
      line-height: 1.95;
      font-size: 13px;
      flex:1;
    }

    .ctaRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top: 2px;
    }

    .btn{
      border:1px solid var(--border);
      background: var(--btn);
      color:var(--text);
      padding: 11px 14px;
      border-radius: 16px;
      cursor:pointer;
      user-select:none;
      transition: transform .14s ease, filter .14s ease, color .14s ease;
      position:relative;
      overflow:hidden;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      text-decoration:none;
      font-weight: 900;
      font-size: 13px;
    }
    .btn:hover{filter:brightness(1.06); transform: translateY(-1px)}
    .btn:active{
      transform: translateY(0px);
      color: var(--p3); /* text color changes on press */
    }

    .btnSmall{
      padding: 10px 12px;
      font-size: 12px;
      font-weight: 900;
    }
    .btnWA{
      flex:1;
      min-width: 170px;
      border-color: color-mix(in srgb, var(--wa) 35%, var(--border));
      background: color-mix(in srgb, var(--wa) 15%, transparent);
    }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      display:none; z-index: 90;
    }
    .modal[aria-hidden="false"]{display:block}
    .modalBack{
      position:absolute; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(8px);
    }
    .modalCard{
      position:absolute;
      inset-inline: 14px;
      top: 10vh;
      max-width: 760px;
      margin: 0 auto;
      border-radius: 26px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg,
        color-mix(in srgb, var(--bg) 75%, rgba(20,24,40,.55)),
        color-mix(in srgb, var(--bg) 85%, rgba(10,12,20,.55))
      );
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modalHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 14px 16px;
      border-bottom: 1px solid var(--border);
    }
    .modalTitle{
      font-weight: 900;
      font-size: 16px;
      line-height:1.4;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      direction:ltr;
      text-align:right;
    }
    .modalBody{
      padding: 16px;
      color: var(--muted);
      line-height: 2;
      font-size: 14px;
    }
    .modalBody .lead{
      color: var(--text);
      font-weight: 900;
      font-size: 15px;
      margin-bottom: 10px;
    }
    .modalActions{
      padding: 14px 16px;
      border-top: 1px solid var(--border);
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    /* Music button */
    .musicBtn{
      position:fixed;
      bottom: 16px;
      inset-inline-end: 16px;
      z-index: 100;
      width:56px;height:56px;
      border-radius: 18px;
      border:1px solid var(--border);
      background: var(--btn);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      display:grid;
      place-items:center;
      cursor:pointer;
      overflow:hidden;
    }
    .musicBtn svg{width:26px;height:26px}

    /* Footer */
    .footer{
      margin-top: 26px;
      border-top: 1px solid var(--border);
      padding: 18px 0 34px;
      color: var(--muted);
      text-align:center;
      line-height: 2;
      font-size: 13px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid var(--border);
      background: var(--glass);
      font-weight: 900;
      text-decoration:none;
      position:relative;
      overflow:hidden;
      /* standout color */
      color: var(--p2);
    }
    .badge .dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(135deg, var(--p2), var(--p1));
      box-shadow: 0 0 0 4px color-mix(in srgb, var(--p2) 18%, transparent);
    }

    @media (max-width: 980px){
      .heroGrid{grid-template-columns:1fr}
      .nasText{font-size:54px}
      .grid{grid-template-columns: repeat(2, 1fr)}
    }
    @media (max-width: 560px){
      .nasText{font-size:46px}
      .grid{grid-template-columns:1fr}
    }
  </style>
</head>

<body>
  <canvas id="winter"></canvas>

  <div class="layer">
    <div class="topbar">
      <div class="container topbar__inner">
        <div class="chip shiny ripple" id="quickChip">Ø·Ù„Ø¨ Ø³Ø±ÙŠØ¹ âœ¨</div>

        <div class="topActions">
          <select class="select ripple" id="langSelect" aria-label="Language">
            <option value="ar">ğŸ‡®ğŸ‡¶ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            <option value="en">English</option>
          </select>

          <button class="toggle ripple" id="themeToggle" type="button" aria-label="Theme">
            <span class="dot"></span>
            <span id="themeText">Ù„ÙŠÙ„ÙŠ</span>
          </button>

          <a class="iconBtn ripple" id="waTop" href="#" target="_blank" rel="noopener" aria-label="WhatsApp">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M20.6 3.4A11 11 0 0 0 2.9 16.2L2 22l5.9-.8A11 11 0 0 0 20.6 3.4Z" stroke="currentColor" stroke-width="1.4"/>
              <path d="M8.6 7.9c-.3-.7-.6-.7-.9-.7h-.7c-.2 0-.6.1-.9.5-.3.4-1.2 1.2-1.2 3 0 1.7 1.3 3.4 1.4 3.6.2.2 2.5 4 6.2 5.4 3 .9 3.7.7 4.3.6.7-.1 2-1 2.3-1.9.3-.9.3-1.6.2-1.8-.1-.2-.3-.3-.7-.5l-2.3-1.1c-.2-.1-.5-.2-.8.2-.3.4-1 1.1-1.2 1.3-.2.2-.4.3-.8.1-.4-.2-1.8-.7-3.4-2.1-1.3-1.1-2.1-2.5-2.4-2.9-.2-.4 0-.6.2-.8l.6-.7c.2-.2.3-.4.2-.7-.1-.2-.7-2-.9-2.4Z" fill="currentColor"/>
            </svg>
          </a>

          <a class="iconBtn ripple" id="igTop" href="https://www.instagram.com/l11nl?igsh=YnF0bTU4MXAyamZ3" target="_blank" rel="noopener" aria-label="Instagram">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7.5 2.8h9A4.7 4.7 0 0 1 21.2 7.5v9a4.7 4.7 0 0 1-4.7 4.7h-9A4.7 4.7 0 0 1 2.8 16.5v-9A4.7 4.7 0 0 1 7.5 2.8Z" stroke="currentColor" stroke-width="1.4"/>
              <path d="M12 8.2A3.8 3.8 0 1 0 12 15.8 3.8 3.8 0 0 0 12 8.2Z" stroke="currentColor" stroke-width="1.4"/>
              <path d="M17.3 6.7h.01" stroke="currentColor" stroke-width="2.4" stroke-linecap="round"/>
            </svg>
          </a>
        </div>
      </div>
    </div>

    <main class="container">
      <section class="hero">
        <div class="heroGrid">
          <div class="heroCard">
            <div class="heroInner">
              <div class="nasPlate">
                <div class="nasText">NAS</div>
              </div>

              <div class="subtitle" id="heroSubtitle">
                Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ÙˆØ®Ø¯Ù…Ø§Øª Ø±Ù‚Ù…ÙŠØ© Ø¨Ø£Ø³Ù„ÙˆØ¨ Ù…Ø±ØªØ¨ ÙˆØ§Ø­ØªØ±Ø§ÙÙŠ.<br>
                Ø§Ø¶ØºØ· <b>Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</b> ÙˆØ³ØªÙØªØ­ Ù„Ùƒ Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù‡Ø²Ø© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨.
              </div>

              <hr class="hrGlow" />
            </div>
          </div>

          <div class="side">
            <h3 id="sideTitle">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø·Ù„Ø¨</h3>
            <p id="sideText">
              1) Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬<br>
              2) Ø§Ø¶ØºØ· <b>Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</b><br>
              3) ØªÙ†ÙØªØ­ Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù‡Ø²Ø© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨<br><br>
              ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§Ù‹ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù†Ø³ØªØºØ±Ø§Ù….
            </p>
          </div>
        </div>
      </section>

      <div class="sectionTitle">
        <h2 id="productsTitle">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©</h2>
        <div class="muted" id="productsHint">Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„Ø´Ø±Ø­ Ù„ÙƒÙ„ ØªØ·Ø¨ÙŠÙ‚</div>
      </div>

      <section class="grid" id="grid"></section>

      <footer class="footer">
        <div id="footerText">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù†Ø³ØªØºØ±Ø§Ù…:</div>
        <a class="badge ripple" href="https://www.instagram.com/l11nl?igsh=YnF0bTU4MXAyamZ3" target="_blank" rel="noopener">
          <span class="dot"></span>
          <span id="igHandle">l11nl</span>
        </a>
        <div style="margin-top:12px;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø¯Ù‰ <b>NAS</b> Â©</div>
      </footer>
    </main>

    <!-- Modal -->
    <div class="modal" id="modal" aria-hidden="true">
      <div class="modalBack" id="modalBack"></div>
      <div class="modalCard">
        <div class="modalHead">
          <div class="modalTitle" id="modalTitle">â€”</div>
          <button class="iconBtn ripple" id="modalClose" aria-label="Close">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
        <div class="modalBody" id="modalBody"></div>
        <div class="modalActions">
          <button class="btn btnSmall ripple" id="modalMore">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
          <button class="btn btnSmall ripple" id="modalLess" style="display:none">Ø¥Ø®ÙØ§Ø¡</button>
          <a class="btn btnWA ripple" id="modalOrder" href="#" target="_blank" rel="noopener">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</a>
        </div>
      </div>
    </div>

    <!-- Music -->
    <audio id="bgm" src="winter.mp3" loop preload="none"></audio>
    <button class="musicBtn ripple" id="musicBtn" aria-label="Music">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M10 5v12.2A2.8 2.8 0 1 1 8.6 15V7l10-2v9.2A2.8 2.8 0 1 1 16.6 12V5l-6 1Z"
              stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>

  <script>
    // ========= Settings =========
    const WHATSAPP_NUMBER = "9647868844984";
    const INSTAGRAM_URL = "https://www.instagram.com/l11nl?igsh=YnF0bTU4MXAyamZ3";
    const CONTACT_MSG = "Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… Ø§Ø¬ÙŠØªÙƒ Ù…Ù† Ù…ÙˆÙ‚Ø¹ NAS\nØ§Ø±ÙŠØ¯ Ø§Ø´ØªØ±Ùƒ ÙŠÙ…ÙƒÙ…";

    // Ø³Ø¹Ø± ØµØ±Ù ØªÙ‚Ø±ÙŠØ¨ÙŠ (ØºÙŠÙ‘Ø±Ù‡ Ø¥Ø°Ø§ ØªØ±ÙŠØ¯)
    const IQD_PER_USD = 1500;

    function waLink(text){
      return `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(text)}`;
    }
    document.getElementById("waTop").href = waLink(CONTACT_MSG);
    document.getElementById("igTop").href = INSTAGRAM_URL;

    // ========= Icons (internet) + stronger visibility =========
    // Using simpleicons with strong colors so it shows in light/dark
    function iconUrl(key){
      const t = document.documentElement.getAttribute("data-theme") || "dark";
      const isLight = t === "light";
      const map = {
        chatgpt: isLight ? "https://cdn.simpleicons.org/openai/111827" : "https://cdn.simpleicons.org/openai/ffffff",
        capcut: isLight ? "https://cdn.simpleicons.org/capcut/111827" : "https://cdn.simpleicons.org/capcut/ffffff",
        canva:  "https://cdn.simpleicons.org/canva/00C4CC",
        todtv:  isLight ? "https://cdn.simpleicons.org/television/111827" : "https://cdn.simpleicons.org/television/ffffff"
      };
      return map[key] || (isLight ? "https://cdn.simpleicons.org/appstore/111827" : "https://cdn.simpleicons.org/appstore/ffffff");
    }

    // ========= Products (no "ÙÙ‚Ø·") =========
    const products = [
      {
        id:"chatgpt_month",
        icon:"chatgpt",
        en:"ChatGPT",
        ar:"ØªØ´Ø§Øª Ø¬ÙŠ Ø¨ÙŠ ØªÙŠ",
        plan:"Monthly",
        iqd:15000,
        how_ar:"Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¹Ø¨Ø± Ø§ÙŠÙ…ÙŠÙ„Ùƒ â€” ØªØ±Ø³Ù„ Ø§Ù„Ø§ÙŠÙ…ÙŠÙ„ ÙˆØ§Ø­Ù†Ø§ Ù†ÙØ¹Ù„Ùƒ. Ø§Ù„ØªÙØ¹ÙŠÙ„ ÙÙˆØ±ÙŠ.",
        how_en:"Activation via your email â€” send your email and we activate it. Instant activation.",
        short_ar:"Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¨Ø§Ù„ÙƒØªØ§Ø¨Ø©ØŒ Ø§Ù„ØªØ±Ø¬Ù…Ø©ØŒ Ø§Ù„ØªÙ„Ø®ÙŠØµØŒ ÙˆØ£ÙÙƒØ§Ø± Ø§Ù„Ø¯Ø±Ø§Ø³Ø© ÙˆØ§Ù„Ø¹Ù…Ù„.",
        short_en:"An AI assistant for writing, translating, summarizing, and generating ideas.",
        full_ar:"ChatGPT ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¨ÙƒØªØ§Ø¨Ø© Ù…Ø­ØªÙˆÙ‰ ÙˆØ±Ø³Ø§Ø¦Ù„ Ø§Ø­ØªØ±Ø§ÙÙŠØ©ØŒ ØªÙ„Ø®ÙŠØµ Ù…Ù‚Ø§Ù„Ø§Øª ÙˆÙ…Ù„ÙØ§ØªØŒ ØªØ±Ø¬Ù…Ø©ØŒ Ø£ÙÙƒØ§Ø± Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø©ØŒ ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø³Ø±Ø¹Ø©. Ø§Ù„ØªÙØ¹ÙŠÙ„ ÙŠØªÙ… Ø¹Ù„Ù‰ Ø§ÙŠÙ…ÙŠÙ„Ùƒ.",
        full_en:"ChatGPT helps you write content and messages, summarize documents, translate, generate ideas, and organize work fast. Activation is done on your email."
      },
      {
        id:"capcut_month",
        icon:"capcut",
        en:"CapCut Pro",
        ar:"ÙƒØ§Ø¨ ÙƒØ§Øª Ø¨Ø±Ùˆ",
        plan:"Monthly",
        iqd:10000,
        how_ar:"Ø­Ø³Ø§Ø¨ Ø¬Ø§Ù‡Ø² Ø´Ù‡Ø±ÙŠ â€” ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±ØªÙŠØ¨.",
        how_en:"Ready monthly account â€” login details after confirmation.",
        short_ar:"Ù…ÙˆÙ†ØªØ§Ø¬ Ø³Ø±ÙŠØ¹: Ù‚ÙˆØ§Ù„Ø¨ØŒ Ù…Ø¤Ø«Ø±Ø§ØªØŒ Ù†ØµÙˆØµ Ù…ØªØ­Ø±ÙƒØ© ÙˆÙÙ„Ø§ØªØ± Ø¬Ù…ÙŠÙ„Ø©.",
        short_en:"Fast video editing with templates, effects, and animated text.",
        full_ar:"CapCut Ù…Ù…ØªØ§Ø² Ù„ØµÙ†Ø§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰: Ø§Ù†ØªÙ‚Ø§Ù„Ø§ØªØŒ ØªØ£Ø«ÙŠØ±Ø§ØªØŒ Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø©ØŒ Ù†ØµÙˆØµ Ù…ØªØ­Ø±ÙƒØ©ØŒ ÙˆØ®ØµØ§Ø¦Øµ ØªØ³Ø§Ø¹Ø¯Ùƒ ØªØ³ÙˆÙŠ ÙÙŠØ¯ÙŠÙˆ Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ø³Ø±Ø¹Ø©.",
        full_en:"CapCut is great for creators: transitions, effects, templates, animated text, and tools to produce pro videos quickly."
      },
      {
        id:"canva_month",
        icon:"canva",
        en:"Canva Pro",
        ar:"ÙƒØ§Ù†ÙØ§ Ø¨Ø±Ùˆ",
        plan:"Monthly",
        iqd:5000,
        how_ar:"Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ø±Ùˆ â€” Ù„Ù„ØªØµÙ…ÙŠÙ…Ø§Øª ÙˆØ§Ù„Ø¨ÙˆØ³ØªØ§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶. Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨.",
        how_en:"Pro plan â€” designs, posts & presentations. Activation based on order details.",
        short_ar:"ØªØµÙ…ÙŠÙ… Ø¨Ø³Ù‡ÙˆÙ„Ø©: Ø¨ÙˆØ³ØªØ§ØªØŒ Ø³ØªÙˆØ±ÙŠØ§ØªØŒ Ø´Ø¹Ø§Ø±Ø§ØªØŒ ÙˆØ¹Ø±ÙˆØ¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠØ© Ø¨Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø©.",
        short_en:"Easy design: posts, stories, logos & presentations with templates.",
        full_ar:"Canva Ù…Ù†ØµØ© ØªØµÙ…ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±. ØªÙ‚Ø¯Ø± ØªØ³ÙˆÙŠ Ø¨ÙˆØ³ØªØ§Øª Ø§Ù†Ø³ØªØºØ±Ø§Ù…ØŒ Ø³ØªÙˆØ±ÙŠØ§ØªØŒ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªØŒ Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ¹Ø±ÙˆØ¶ Ø¨Ø³Ø±Ø¹Ø©. Pro ÙŠÙØªØ­ Ù„Ùƒ Ù…ÙƒØªØ¨Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙˆØ§Ù„Ù‚ÙˆØ§Ù„Ø¨.",
        full_en:"Canva is a design platform for mobile/desktop. Create posts, stories, ads, logos and presentations fast. Pro unlocks more templates and assets."
      },
      {
        id:"todtv_month",
        icon:"todtv",
        en:"TOD TV",
        ar:"ØªÙˆØ¯ ØªÙŠ Ú¤ÙŠ",
        plan:"Monthly",
        iqd:15000,
        how_ar:"Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ø®ØµÙŠ Ø´Ù‡Ø±ÙŠ â€” ØªÙ‚Ø¯Ø± ØªØ¶ÙŠÙ 5 Ø£Ø¬Ù‡Ø²Ø© (ÙƒÙ…Ø¨ÙŠÙˆØªØ±/Ø´Ø§Ø´Ø©/Ù…ÙˆØ¨Ø§ÙŠÙ„).",
        how_en:"Personal monthly subscription â€” add up to 5 devices (PC/TV/Mobile).",
        short_ar:"Ù…Ø´Ø§Ù‡Ø¯Ø© Ù…Ø±ÙŠØ­Ø© Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† Ø¬Ù‡Ø§Ø² Ù…Ø¹ ØªØ±ØªÙŠØ¨ Ø¯Ø®ÙˆÙ„ ÙˆØ§Ø¶Ø­.",
        short_en:"Comfortable multi-device streaming with clear access setup.",
        full_ar:"TOD TV Ø®Ø¯Ù…Ø© Ù…Ø´Ø§Ù‡Ø¯Ø© Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø§Ù‚Ø©. Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ Ø§Ù„Ø´Ù‡Ø±ÙŠ ÙŠØ¯Ø¹Ù… Ø¥Ø¶Ø§ÙØ© Ø­ØªÙ‰ 5 Ø£Ø¬Ù‡Ø²Ø©. ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø­Ø³Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨.",
        full_en:"TOD TV is a streaming service depending on plan. The personal monthly subscription supports up to 5 devices. Access is set up based on your order details."
      },
      {
        id:"chatgpt_go_year",
        icon:"chatgpt",
        en:"ChatGPT Go",
        ar:"Ø¬Ø§Øª Ø¬ÙŠ Ø¨ÙŠ ØªÙŠ Go",
        plan:"Yearly",
        iqd:40000,
        how_ar:"Ø§Ø´ØªØ±Ø§Ùƒ Ø³Ù†ÙˆÙŠ â€” ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨.",
        how_en:"Yearly subscription â€” activation based on order details.",
        short_ar:"Ø®ÙŠØ§Ø± Ø³Ù†ÙˆÙŠ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø·ÙˆÙŠÙ„ Ø¨Ø³Ø¹Ø± Ù…Ù†Ø§Ø³Ø¨.",
        short_en:"A yearly option for long-term use at a better price.",
        full_ar:"Ø§Ø´ØªØ±Ø§Ùƒ Ø³Ù†ÙˆÙŠ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø±: ÙƒØªØ§Ø¨Ø©ØŒ ØªÙ„Ø®ÙŠØµØŒ ØªØ±Ø¬Ù…Ø©ØŒ Ø£ÙÙƒØ§Ø± Ù…Ø­ØªÙˆÙ‰ØŒ ÙˆØªÙ†Ø¸ÙŠÙ… Ø¹Ù…Ù„ ÙˆØ¯Ø±Ø§Ø³Ø©. Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨.",
        full_en:"Yearly plan for ongoing use: writing, summarizing, translating, content ideas, and productivity. Activation depends on order details."
      },
      {
        id:"chatgpt_plus_year",
        icon:"chatgpt",
        en:"ChatGPT Plus",
        ar:"Ø¬Ø§Øª Ø¬ÙŠ Ø¨ÙŠ ØªÙŠ Ø¨Ù„Ø³",
        plan:"Yearly",
        iqd:80000,
        how_ar:"Ø§Ø´ØªØ±Ø§Ùƒ Ø³Ù†ÙˆÙŠ Ø¨Ù„Ø³ â€” ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨.",
        how_en:"Yearly Plus â€” activation based on order details.",
        short_ar:"Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù…Ù† ÙŠØ±ÙŠØ¯ ØªØ¬Ø±Ø¨Ø© Ø£Ù‚ÙˆÙ‰ ÙˆØ£ÙƒØ«Ø± Ø³Ù„Ø§Ø³Ø©.",
        short_en:"Ideal for daily use with a stronger and smoother experience.",
        full_ar:"Plus ÙŠØ¹Ø·ÙŠ ØªØ¬Ø±Ø¨Ø© Ø£Ù‚ÙˆÙ‰ ÙˆÙ…Ø²Ø§ÙŠØ§ Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø¹Ø§Ø¯ÙŠØŒ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø·Ù„Ø§Ø¨ ÙˆØ£ØµØ­Ø§Ø¨ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØµÙ†Ø§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰. Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨.",
        full_en:"Plus offers a stronger experience and extra features, ideal for students, businesses and creators. Activation depends on order details."
      }
    ];

    // ========= Language UI =========
    const langSelect = document.getElementById("langSelect");
    const quickChip = document.getElementById("quickChip");
    const heroSubtitle = document.getElementById("heroSubtitle");
    const sideTitle = document.getElementById("sideTitle");
    const sideText = document.getElementById("sideText");
    const productsTitle = document.getElementById("productsTitle");
    const productsHint = document.getElementById("productsHint");
    const footerText = document.getElementById("footerText");
    const themeText = document.getElementById("themeText");

    let currentLang = localStorage.getItem("nas_lang") || "ar";

    const UI = {
      ar: {
        quick:"Ø·Ù„Ø¨ Ø³Ø±ÙŠØ¹ âœ¨",
        hero:"Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ÙˆØ®Ø¯Ù…Ø§Øª Ø±Ù‚Ù…ÙŠØ© Ø¨Ø£Ø³Ù„ÙˆØ¨ Ù…Ø±ØªØ¨ ÙˆØ§Ø­ØªØ±Ø§ÙÙŠ.<br>Ø§Ø¶ØºØ· <b>Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</b> ÙˆØ³ØªÙØªØ­ Ù„Ùƒ Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù‡Ø²Ø© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨.",
        sideTitle:"Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø·Ù„Ø¨",
        side:"1) Ø§Ø®ØªØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚<br>2) Ø§Ø¶ØºØ· <b>Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</b><br>3) ØªÙ†ÙØªØ­ Ø±Ø³Ø§Ù„Ø© Ø¬Ø§Ù‡Ø²Ø© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨<br><br>ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ø§Ù‹ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù†Ø³ØªØºØ±Ø§Ù….",
        title:"Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©",
        hint:"Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„Ø´Ø±Ø­ Ù„ÙƒÙ„ ØªØ·Ø¨ÙŠÙ‚",
        footer:"ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù†Ø³ØªØºØ±Ø§Ù…:",
        order:"Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†",
        more:"Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯",
        less:"Ø¥Ø®ÙØ§Ø¡",
        themeDark:"Ù„ÙŠÙ„ÙŠ",
        themeLight:"Ù†Ù‡Ø§Ø±ÙŠ",
        meaning:(name)=>`Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ ${name}ØŸ`,
        planLabel:(plan)=> plan==="Monthly" ? "Ø´Ù‡Ø±ÙŠ" : "Ø³Ù†ÙˆÙŠ",
      },
      en: {
        quick:"Quick Order âœ¨",
        hero:"Digital subscriptions & services, clean and professional.<br>Tap <b>Order Now</b> to open a ready WhatsApp message.",
        sideTitle:"How to order",
        side:"1) Choose the app<br>2) Tap <b>Order Now</b><br>3) A ready WhatsApp message opens<br><br>You can also order via Instagram.",
        title:"Available Apps",
        hint:"Tap the info button for each app",
        footer:"You can order via Instagram:",
        order:"Order Now",
        more:"Show more",
        less:"Hide",
        themeDark:"Night",
        themeLight:"Day",
        meaning:(name)=>`What does ${name} mean?`,
        planLabel:(plan)=> plan==="Monthly" ? "Monthly" : "Yearly",
      }
    };

    // ========= Theme Toggle =========
    const themeToggle = document.getElementById("themeToggle");
    const savedTheme = localStorage.getItem("nas_theme") || "dark";
    document.documentElement.setAttribute("data-theme", savedTheme);

    function updateThemeText(){
      const t = document.documentElement.getAttribute("data-theme") || "dark";
      themeText.textContent = (t === "dark") ? UI[currentLang].themeDark : UI[currentLang].themeLight;
    }
    themeToggle.addEventListener("click", () => {
      const now = document.documentElement.getAttribute("data-theme") === "dark" ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", now);
      localStorage.setItem("nas_theme", now);
      updateThemeText();
      renderProducts(); // refresh icons colors
    });

    // ========= Price formatting =========
    function fmtIQD(n){
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
    function iqdToUsd(iqd){
      const usd = iqd / IQD_PER_USD;
      // round to nearest 0.5 for nicer display
      return Math.round(usd * 2) / 2;
    }
    function priceHTML(iqd){
      if(currentLang === "en"){
        const usd = iqdToUsd(iqd);
        return `$${usd}<span class="sub">${fmtIQD(iqd)} IQD</span>`;
      }
      return `${fmtIQD(iqd)} Ø¯.Ø¹`;
    }

    // ========= WhatsApp message =========
    function waMessage(appName, plan){
      const planTxt = UI[currentLang].planLabel(plan);
      if(currentLang === "ar"){
        return `Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… Ù…Ù…ÙƒÙ† Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ (${appName}) ${planTxt}\n\nØ§Ù†ÙŠ Ø§Ø¬ÙŠØªÙƒ Ù…Ù† Ù…ÙˆÙ‚Ø¹ NAS\nØ§Ø±ÙŠØ¯ Ø§Ø´ØªØ±Ùƒ ÙŠÙ…ÙƒÙ…`;
      }
      return `Hello, can I subscribe to (${appName}) ${planTxt}?\n\nI came from NAS website.\nI want to subscribe.`;
    }

    // ========= Render =========
    const grid = document.getElementById("grid");
    const modal = document.getElementById("modal");
    const modalBack = document.getElementById("modalBack");
    const modalClose = document.getElementById("modalClose");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");
    const modalMore = document.getElementById("modalMore");
    const modalLess = document.getElementById("modalLess");
    const modalOrder = document.getElementById("modalOrder");

    function escapeHtml(s){
      return String(s)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function card(p){
      const planLabel = (currentLang === "ar")
        ? UI.ar.planLabel(p.plan) // Ø´Ù‡Ø±ÙŠ/Ø³Ù†ÙˆÙŠ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        : UI.en.planLabel(p.plan); // Monthly/Yearly Ø¨Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ

      const how = (currentLang === "ar") ? p.how_ar : p.how_en;
      const infoBtn = UI[currentLang].meaning(p.en);
      const orderTxt = UI[currentLang].order;

      const msg = waMessage(p.en, p.plan);

      return `
        <article class="card">
          <div class="cardBody">
            <div class="headRow">
              <div class="app">
                <div class="appIcon" aria-hidden="true">
                  <img src="${iconUrl(p.icon)}" alt="${escapeHtml(p.en)} icon"
                       onerror="this.style.display='none'; this.parentElement.querySelector('.fallback').style.display='block';" />
                  <div class="fallback">${escapeHtml(p.en.slice(0,2).toUpperCase())}</div>
                </div>
                <div class="names">
                  <div class="en">${escapeHtml(p.en)} <span style="opacity:.78;font-weight:900;">(${escapeHtml(planLabel)})</span></div>
                  <div class="ar">${escapeHtml(p.ar)}</div>
                </div>
              </div>

              <div class="price">${priceHTML(p.iqd)}</div>
            </div>

            <div class="desc">${escapeHtml(how)}</div>

            <div class="ctaRow">
              <button class="btn btnSmall ripple" data-what="${p.id}">${escapeHtml(infoBtn)}</button>
              <a class="btn btnWA ripple" href="${waLink(msg)}" target="_blank" rel="noopener">${escapeHtml(orderTxt)}</a>
            </div>
          </div>
        </article>
      `;
    }

    function renderProducts(){
      grid.innerHTML = products.map(card).join("");
    }

    // ========= Modal =========
    function openModal(p){
      const how = (currentLang === "ar") ? p.how_ar : p.how_en;
      const short = (currentLang === "ar") ? p.short_ar : p.short_en;
      const full = (currentLang === "ar") ? p.full_ar : p.full_en;

      modalTitle.textContent = `${p.en} â€” ${p.ar}`;
      modalBody.innerHTML = `
        <div class="lead">${escapeHtml(short)}</div>
        <div>${escapeHtml(how)}</div>
        <div id="fullText" style="display:none; margin-top:12px;">${escapeHtml(full)}</div>
      `;
      modalMore.textContent = UI[currentLang].more;
      modalLess.textContent = UI[currentLang].less;
      modalOrder.textContent = UI[currentLang].order;

      modalOrder.href = waLink(waMessage(p.en, p.plan));

      modalMore.style.display = "inline-flex";
      modalLess.style.display = "none";

      modal.setAttribute("aria-hidden","false");
      document.body.style.overflow="hidden";
    }
    function closeModal(){
      modal.setAttribute("aria-hidden","true");
      document.body.style.overflow="";
    }
    modalBack.addEventListener("click", closeModal);
    modalClose.addEventListener("click", closeModal);

    modalMore.addEventListener("click", () => {
      const full = document.getElementById("fullText");
      if(!full) return;
      full.style.display = "block";
      modalMore.style.display = "none";
      modalLess.style.display = "inline-flex";
    });
    modalLess.addEventListener("click", () => {
      const full = document.getElementById("fullText");
      if(!full) return;
      full.style.display = "none";
      modalMore.style.display = "inline-flex";
      modalLess.style.display = "none";
    });

    document.addEventListener("click", (e) => {
      const btn = e.target.closest("[data-what]");
      if(!btn) return;
      const id = btn.getAttribute("data-what");
      const p = products.find(x => x.id === id);
      if(p) openModal(p);
    });

    // ========= Ripple + Haptic =========
    function addRipple(el, x, y){
      const rect = el.getBoundingClientRect();
      const span = document.createElement("span");
      span.className = "rippleSpan";
      const size = Math.max(rect.width, rect.height);
      span.style.width = span.style.height = size + "px";
      span.style.left = (x - rect.left - size/2) + "px";
      span.style.top  = (y - rect.top  - size/2) + "px";
      el.appendChild(span);
      span.addEventListener("animationend", () => span.remove());
    }
    function vibrate(){ if(navigator.vibrate) navigator.vibrate(18); }

    document.addEventListener("pointerdown", (e) => {
      const t = e.target.closest(".ripple");
      if(!t) return;
      addRipple(t, e.clientX, e.clientY);
      vibrate();
    });

    // ========= Winter effect =========
    const canvas = document.getElementById("winter");
    const ctx = canvas.getContext("2d", { alpha: true });
    let W=0,H=0, drops=[];
    function resize(){
      W = canvas.width = window.innerWidth * devicePixelRatio;
      H = canvas.height = window.innerHeight * devicePixelRatio;
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      drops = Array.from({length: Math.min(120, Math.floor(window.innerWidth/8))}, () => makeDrop(true));
    }
    function makeDrop(initial=false){
      const x = Math.random()*W;
      const y = initial ? Math.random()*H : -Math.random()*H*0.2;
      const r = (Math.random()*2.0 + 0.8) * devicePixelRatio;
      const sp = (Math.random()*0.7 + 0.35) * devicePixelRatio;
      const a = Math.random()*0.18 + 0.05;
      return {x,y,r,sp,a, drift:(Math.random()*0.4-0.2)*devicePixelRatio};
    }
    function tick(){
      ctx.clearRect(0,0,W,H);
      for(let i=0;i<drops.length;i++){
        const d = drops[i];
        d.y += d.sp;
        d.x += d.drift;
        if(d.y - d.r > H) drops[i] = makeDrop(false);
        if(d.x < -50 || d.x > W+50) drops[i] = makeDrop(false);
        ctx.beginPath();
        ctx.fillStyle = `rgba(255,255,255,${d.a})`;
        ctx.arc(d.x, d.y, d.r, 0, Math.PI*2);
        ctx.fill();
      }
      requestAnimationFrame(tick);
    }
    window.addEventListener("resize", resize);
    resize(); tick();

    // ========= Music =========
    const bgm = document.getElementById("bgm");
    const musicBtn = document.getElementById("musicBtn");
    let playing = false;
    musicBtn.addEventListener("click", async () => {
      try{
        if(!playing){ await bgm.play(); playing = true; }
        else{ bgm.pause(); playing = false; }
      }catch{
        alert("Ø­ØªÙ‰ ØªØ´ØªØºÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰: Ø¶Ø¹ Ù…Ù„Ù Ø¨Ø§Ø³Ù… winter.mp3 Ø¨Ø¬Ø§Ù†Ø¨ index.html");
      }
    });

    // ========= Apply language =========
    function applyLang(lang){
      currentLang = lang;
      localStorage.setItem("nas_lang", lang);

      const isAr = lang === "ar";
      document.documentElement.lang = isAr ? "ar" : "en";
      document.documentElement.dir = isAr ? "rtl" : "ltr";

      quickChip.textContent = UI[lang].quick;
      heroSubtitle.innerHTML = UI[lang].hero;
      sideTitle.textContent = UI[lang].sideTitle;
      sideText.innerHTML = UI[lang].side;
      productsTitle.textContent = UI[lang].title;
      productsHint.textContent = UI[lang].hint;
      footerText.textContent = UI[lang].footer;

      document.getElementById("modalMore").textContent = UI[lang].more;
      document.getElementById("modalLess").textContent = UI[lang].less;
      document.getElementById("modalOrder").textContent = UI[lang].order;

      updateThemeText();
      renderProducts();
    }

    // init language
    const langSelect = document.getElementById("langSelect");
    langSelect.value = currentLang;
    langSelect.addEventListener("change", ()=> applyLang(langSelect.value));

    updateThemeText();
    applyLang(currentLang);
  </script>
</body>
</html>
