<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NAS Store</title>
  <style>
    :root{
      --bg:#0b1220; --muted:#9fb0d0; --text:#eef3ff;
      --border:rgba(255,255,255,.10); --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px; --accent: rgba(83,132,255,.22); --accentBorder: rgba(83,132,255,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Tahoma, Arial;
      background:
        radial-gradient(1200px 600px at 30% -10%, rgba(83, 132, 255,.25), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(0, 255, 200,.12), transparent 60%),
        var(--bg);
      color:var(--text);
    }
    .container{max-width:1100px;margin:0 auto;padding:18px}
    .topbar{
      position:sticky;top:0;z-index:20;
      backdrop-filter: blur(10px);
      background: rgba(11,18,32,.65);
      border-bottom:1px solid var(--border);
    }
    .topbar__inner{display:flex;align-items:center;justify-content:space-between;gap:14px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:40px;height:40px;border-radius:14px;background:rgba(255,255,255,.08);display:grid;place-items:center}
    .brand__name{font-weight:800}
    .brand__tag{font-size:12px;color:var(--muted)}
    .actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .input{
      width:min(360px, 70vw);
      padding:10px 12px; border-radius:14px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text); outline:none;
    }
    .btn{
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 12px; border-radius:14px;
      cursor:pointer; user-select:none;
    }
    .btn:hover{filter:brightness(1.08)}
    .btn--primary{background:var(--accent); border-color: var(--accentBorder);}
    .btn--ghost{background:transparent}
    .badge{
      display:inline-block; min-width:22px; padding:2px 8px;
      margin-inline-start:6px; border-radius:999px;
      background:rgba(255,255,255,.10);
      border:1px solid var(--border); font-size:12px;
    }
    .hero{
      display:grid; grid-template-columns: 1.2fr .8fr;
      gap:14px; padding:18px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      margin-top:14px;
    }
    .hero h1{margin:0 0 8px;font-size:30px}
    .hero p{margin:0;color:var(--muted);line-height:1.7}
    .hero__row{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    .card{
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .hero__card{padding:14px}
    .muted{color:var(--muted)}
    .small{font-size:12px}

    .sectionTitle{display:flex;align-items:baseline;justify-content:space-between;gap:10px;margin-top:18px}
    .grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin-top:12px;}
    .product{padding:14px; display:flex; flex-direction:column; gap:10px;}
    .product__img{
      height:140px; border-radius:16px;
      background: linear-gradient(135deg, rgba(83,132,255,.30), rgba(0,255,200,.12));
      border:1px solid var(--border);
    }
    .product__title{font-weight:800}
    .product__desc{color:var(--muted);font-size:13px;line-height:1.7;min-height:44px}
    .product__row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .price{font-weight:900}

    .how{
      margin:18px 0 40px; padding:18px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      border-radius: var(--radius);
    }
    .how ol{color:var(--muted);line-height:1.9}
    .how__buttons{display:flex;gap:10px;flex-wrap:wrap}

    .drawer{position:fixed;inset:0;display:none}
    .drawer[aria-hidden="false"]{display:block}
    .drawer__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5)}
    .drawer__panel{
      position:absolute; inset-block:0; inset-inline-end:0;
      width:min(440px, 92vw);
      background:rgba(10,16,28,.95);
      border-inline-start:1px solid var(--border);
      display:flex; flex-direction:column;
    }
    .drawer__header{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px; border-bottom:1px solid var(--border);
    }
    .iconBtn{
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text);
      width:38px;height:38px;border-radius:14px;cursor:pointer;
    }
    .drawer__body{padding:14px;overflow:auto;display:flex;flex-direction:column;gap:10px}
    .drawer__footer{padding:14px;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:10px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .total{font-weight:900;font-size:18px}
    .label{font-size:12px;color:var(--muted)}
    .textarea,.select,.input2{
      width:100%;
      padding:10px 12px; border-radius:14px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text); outline:none;
    }
    .textarea{resize:vertical}
    .footerBtns{display:flex;gap:10px;flex-wrap:wrap}
    .cartItem{
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      border-radius:16px;
      padding:12px;
      display:grid;
      grid-template-columns: 1fr auto;
      gap:10px;
    }
    .cartItem__title{font-weight:800}
    .qty{display:flex;align-items:center;gap:8px}
    .qty button{
      width:32px;height:32px;border-radius:12px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text);
      cursor:pointer;
    }
    .notice{
      border:1px dashed rgba(255,255,255,.18);
      border-radius:14px;
      padding:10px 12px;
      color:var(--muted);
      line-height:1.7;
      background:rgba(255,255,255,.03);
      font-size:13px;
    }

    @media (max-width: 900px){
      .hero{grid-template-columns:1fr}
      .grid{grid-template-columns: repeat(2, 1fr)}
    }
    @media (max-width: 520px){
      .grid{grid-template-columns:1fr}
      .hero h1{font-size:26px}
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand">
        <div class="logo">ğŸ›’</div>
        <div>
          <div class="brand__name" id="storeName">NAS</div>
          <div class="brand__tag">Ù…ØªØ¬Ø± Ø¨Ø³ÙŠØ· Ø¨Ù€ HTML</div>
        </div>
      </div>

      <div class="actions">
        <input id="search" class="input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." />
        <button id="openCart" class="btn btn--primary">
          Ø§Ù„Ø³Ù„Ø© <span id="cartCount" class="badge">0</span>
        </button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div>
        <h1>NAS Store</h1>
        <p>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬ØŒ Ø£Ø¶ÙÙ‡ Ù„Ù„Ø³Ù„Ø©ØŒ Ø«Ù… Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ ØªÙ„ØºØ±Ø§Ù…. (ÙˆØ§Ø¬Ù‡Ø© ÙÙ‚Ø·)</p>
        <div class="hero__row">
          <button class="btn" id="scrollToProducts">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
          <a class="btn btn--ghost" href="#how">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø·Ù„Ø¨</a>
        </div>
      </div>
      <div class="card hero__card">
        <div class="muted">Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©</div>
        <div style="margin-top:8px; line-height:1.7">
          Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ø¨Ø± â€œØ¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø´Ø­Ù†/ÙƒØ§Ø±Øªâ€ Ù…Ø§ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯ Ø¨ØªØ·Ø¨ÙŠÙ‚Ù‡.
          Ø£Ù‚Ø¯Ø± Ø£Ø±ØªÙ‘Ø¨ Ù„Ùƒ Ø¯ÙØ¹ Ø±Ø³Ù…ÙŠ (Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹) Ø£Ùˆ ØªØ­ÙˆÙŠÙ„ ÙŠØ¯ÙˆÙŠ + Ø¥Ø«Ø¨Ø§Øª.
        </div>
      </div>
    </section>

    <section id="products">
      <div class="sectionTitle">
        <h2>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
        <div class="muted" id="resultCount"></div>
      </div>
      <div class="grid" id="productGrid"></div>
    </section>

    <section id="how" class="how">
      <h2>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø·Ù„Ø¨</h2>
      <ol>
        <li>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ£Ø¶ÙÙ‡Ø§ Ù„Ù„Ø³Ù„Ø©.</li>
        <li>Ø§ÙØªØ­ Ø§Ù„Ø³Ù„Ø© ÙˆØ£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ/Ø±Ù‚Ù…Ùƒ ÙˆØ§Ø®ØªØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹.</li>
        <li>Ø§Ø¶ØºØ· â€œØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨â€ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ ØªÙ„ØºØ±Ø§Ù….</li>
      </ol>
      <div class="how__buttons">
        <button class="btn btn--primary" id="sendWhatsApp">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button class="btn" id="sendTelegram">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ØªÙ„ØºØ±Ø§Ù…</button>
      </div>
      <p class="muted small">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¶Ø¨ÙˆØ·Ø© Ø­Ø³Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ.</p>
    </section>
  </main>

  <aside class="drawer" id="cartDrawer" aria-hidden="true">
    <div class="drawer__panel">
      <div class="drawer__header">
        <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
        <button class="iconBtn" id="closeCart" aria-label="Ø¥ØºÙ„Ø§Ù‚">âœ•</button>
      </div>

      <div id="cartItems" class="drawer__body"></div>

      <div class="drawer__footer">
        <div class="row">
          <div class="muted">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</div>
          <div class="total" id="cartTotal">0</div>
        </div>

        <div class="notice">
          âœ… Ø§ÙƒØªØ¨ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ÙˆØ§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹.<br>
          âš ï¸ Ù„Ø§ ØªØ·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø²Ø¨ÙˆÙ† ÙŠØ±Ø³Ù„ Ø£ÙƒÙˆØ§Ø¯ Ø´Ø­Ù†/ÙƒØ§Ø±Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹.
        </div>

        <label class="label">Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†</label>
        <input id="customerName" class="input2" placeholder="Ù…Ø«Ø§Ù„: Ø¹Ù„ÙŠ" />

        <label class="label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
        <input id="customerPhone" class="input2" placeholder="Ù…Ø«Ø§Ù„: 07xxxxxxxxx" />

        <label class="label">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
        <select id="payMethod" class="select">
          <option value="ØªØ­ÙˆÙŠÙ„/Ø±ØµÙŠØ¯ (ÙŠØ¯ÙˆÙŠ)">ØªØ­ÙˆÙŠÙ„/Ø±ØµÙŠØ¯ (ÙŠØ¯ÙˆÙŠ)</option>
          <option value="Ù…Ø­ÙØ¸Ø©/Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹ (Ø±Ø³Ù…ÙŠØ©)">Ù…Ø­ÙØ¸Ø©/Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹ (Ø±Ø³Ù…ÙŠØ©)</option>
        </select>

        <label class="label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <textarea id="notes" class="textarea" rows="3" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø¨Ø±ÙŠØ¯/Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù„Ù„ØªÙØ¹ÙŠÙ„ØŒ ÙˆÙ‚Øª Ø§Ù„ØªØ³Ù„ÙŠÙ…..."></textarea>

        <div class="footerBtns">
          <button class="btn btn--ghost" id="clearCart">ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button>
          <button class="btn btn--primary" id="copyOrder">Ù†Ø³Ø® Ù†Øµ Ø§Ù„Ø·Ù„Ø¨</button>
        </div>

        <div class="footerBtns">
          <button class="btn btn--primary" id="sendWhatsApp2">Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨</button>
          <button class="btn" id="sendTelegram2">Ø¥Ø±Ø³Ø§Ù„ ØªÙ„ØºØ±Ø§Ù…</button>
        </div>
      </div>
    </div>
    <div class="drawer__backdrop" id="backdrop"></div>
  </aside>

  <script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ
    const STORE_NAME = "NAS";
    const WHATSAPP_NUMBER = "9647726744162"; // ØªØ­ÙˆÙŠÙ„ 077.. Ø¥Ù„Ù‰ Ø¯ÙˆÙ„ÙŠ Ø¨Ø¯ÙˆÙ† +
    const TELEGRAM_USERNAME = "Neeeee"; // Ø¨Ø¯ÙˆÙ† @

    // Ù…Ù†ØªØ¬Ø§ØªÙƒ (Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ø«Ù„ Ù…Ø§ ØªØ±ÙŠØ¯)
    const PRODUCTS = [
      { id: "chatgpt", title: "CHATGPT",   desc: "Ø§Ø´ØªØ±Ø§Ùƒ/ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ø±Ø³Ù…ÙŠØ©.", price: 0 },
      { id: "capcut",  title: "CapCut Pro", desc: "Ø§Ø´ØªØ±Ø§Ùƒ/ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ø±Ø³Ù…ÙŠØ©.", price: 0 },
      { id: "canva",   title: "Canva Pro",  desc: "Ø§Ø´ØªØ±Ø§Ùƒ/ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ø±Ø³Ù…ÙŠØ©.", price: 0 },
      { id: "gemini",  title: "Gemini",     desc: "Ø§Ø´ØªØ±Ø§Ùƒ/ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ø±Ø³Ù…ÙŠØ©.", price: 0 },
    ];

    const currency = (n) => `${Number(n).toLocaleString("ar-IQ")} Ø¯.Ø¹`;

    const els = {
      storeName: document.getElementById("storeName"),
      grid: document.getElementById("productGrid"),
      search: document.getElementById("search"),
      resultCount: document.getElementById("resultCount"),
      cartDrawer: document.getElementById("cartDrawer"),
      openCart: document.getElementById("openCart"),
      closeCart: document.getElementById("closeCart"),
      backdrop: document.getElementById("backdrop"),
      cartItems: document.getElementById("cartItems"),
      cartTotal: document.getElementById("cartTotal"),
      cartCount: document.getElementById("cartCount"),
      notes: document.getElementById("notes"),
      payMethod: document.getElementById("payMethod"),
      customerName: document.getElementById("customerName"),
      customerPhone: document.getElementById("customerPhone"),
      clearCart: document.getElementById("clearCart"),
      copyOrder: document.getElementById("copyOrder"),
      sendWhatsApp: document.getElementById("sendWhatsApp"),
      sendTelegram: document.getElementById("sendTelegram"),
      sendWhatsApp2: document.getElementById("sendWhatsApp2"),
      sendTelegram2: document.getElementById("sendTelegram2"),
      scrollToProducts: document.getElementById("scrollToProducts"),
    };

    els.storeName.textContent = STORE_NAME;

    let cart = {};
    try { cart = JSON.parse(localStorage.getItem("cart") || "{}") || {}; }
    catch { cart = {}; }

    const saveCart = () => localStorage.setItem("cart", JSON.stringify(cart));
    const cartCount = () => Object.values(cart).reduce((a,b)=>a+b,0);
    const cartTotal = () => Object.entries(cart).reduce((sum,[id,qty])=>{
      const p = PRODUCTS.find(x=>x.id===id);
      return sum + (p ? p.price*qty : 0);
    },0);

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function renderProducts(list){
      els.grid.innerHTML = "";
      list.forEach(p=>{
        const card = document.createElement("div");
        card.className = "card product";
        card.innerHTML = `
          <div class="product__img" aria-hidden="true"></div>
          <div class="product__title">${escapeHtml(p.title)}</div>
          <div class="product__desc">${escapeHtml(p.desc)}</div>
          <div class="product__row">
            <div class="price">${p.price ? currency(p.price) : "Ø§Ù„Ø³Ø¹Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨"}</div>
            <button class="btn btn--primary" data-add="${p.id}">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
          </div>
        `;
        els.grid.appendChild(card);
      });
      els.resultCount.textContent = `${list.length} Ù…Ù†ØªØ¬`;
    }

    function renderCart(){
      const items = Object.entries(cart).map(([id,qty])=>{
        const p = PRODUCTS.find(x=>x.id===id);
        if(!p) return "";
        const line = p.price*qty;
        return `
          <div class="cartItem">
            <div>
              <div class="cartItem__title">${escapeHtml(p.title)}</div>
              <div class="muted small">${p.price ? currency(p.price) : "Ø§Ù„Ø³Ø¹Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨"}</div>
              ${p.price ? `<div class="muted small">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${currency(line)}</div>` : ""}
            </div>
            <div class="qty">
              <button data-dec="${id}">-</button>
              <div>${qty}</div>
              <button data-inc="${id}">+</button>
            </div>
          </div>
        `;
      }).join("");

      els.cartItems.innerHTML = items || `<div class="muted">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.</div>`;
      els.cartTotal.textContent = cartTotal() ? currency(cartTotal()) : "â€”";
      els.cartCount.textContent = cartCount();
    }

    function openCart(){ els.cartDrawer.setAttribute("aria-hidden","false"); renderCart(); }
    function closeCart(){ els.cartDrawer.setAttribute("aria-hidden","true"); }

    function addToCart(id){ cart[id]=(cart[id]||0)+1; saveCart(); renderCart(); }
    function inc(id){ cart[id]=(cart[id]||0)+1; saveCart(); renderCart(); }
    function dec(id){ cart[id]=(cart[id]||0)-1; if(cart[id]<=0) delete cart[id]; saveCart(); renderCart(); }

    function buildOrderText(){
      const name = (els.customerName.value || "").trim();
      const phone = (els.customerPhone.value || "").trim();
      const pay = els.payMethod.value;
      const notes = (els.notes.value || "").trim();

      const lines = [];
      lines.push(`Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - ${STORE_NAME}`);
      lines.push("--------------------");
      if(name) lines.push(`Ø§Ù„Ø§Ø³Ù…: ${name}`);
      if(phone) lines.push(`Ø§Ù„Ù‡Ø§ØªÙ: ${phone}`);
      lines.push(`Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: ${pay}`);
      lines.push("--------------------");

      Object.entries(cart).forEach(([id,qty])=>{
        const p = PRODUCTS.find(x=>x.id===id);
        if(!p) return;
        if(p.price){
          lines.push(`- ${p.title} Ã— ${qty} = ${currency(p.price*qty)}`);
        }else{
          lines.push(`- ${p.title} Ã— ${qty} (Ø§Ù„Ø³Ø¹Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨)`);
        }
      });

      if(cartTotal()) {
        lines.push("--------------------");
        lines.push(`Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${currency(cartTotal())}`);
      }

      if(notes){
        lines.push("");
        lines.push("Ù…Ù„Ø§Ø­Ø¸Ø§Øª:");
        lines.push(notes);
      }

      lines.push("");
      lines.push("Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹/Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©.");
      return lines.join("\n");
    }

    async function copyOrder(){
      if(cartCount()===0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.");
      const text = buildOrderText();
      try{ await navigator.clipboard.writeText(text); alert("ØªÙ… Ù†Ø³Ø® Ù†Øµ Ø§Ù„Ø·Ù„Ø¨ âœ…"); }
      catch{ alert("ØªØ¹Ø°Ø± Ø§Ù„Ù†Ø³Ø®. Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n\n"+text); }
    }

    function sendWhatsApp(){
      if(cartCount()===0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.");
      const text = encodeURIComponent(buildOrderText());
      window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${text}`, "_blank");
    }

    function sendTelegram(){
      if(cartCount()===0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.");
      // Ù†ÙØªØ­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© + Ù†Ù†Ø³Ø® Ø§Ù„Ù†Øµ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
      window.open(`https://t.me/${TELEGRAM_USERNAME}`, "_blank");
      copyOrder();
    }

    // Events
    els.grid.addEventListener("click",(e)=>{ const id=e.target?.dataset?.add; if(id) addToCart(id); });
    els.cartItems.addEventListener("click",(e)=>{
      const incId=e.target?.dataset?.inc, decId=e.target?.dataset?.dec;
      if(incId) inc(incId); if(decId) dec(decId);
    });
    els.openCart.addEventListener("click", openCart);
    els.closeCart.addEventListener("click", closeCart);
    els.backdrop.addEventListener("click", closeCart);

    els.clearCart.addEventListener("click", ()=>{ cart={}; saveCart(); renderCart(); });
    els.copyOrder.addEventListener("click", copyOrder);

    els.sendWhatsApp.addEventListener("click", sendWhatsApp);
    els.sendTelegram.addEventListener("click", sendTelegram);
    els.sendWhatsApp2.addEventListener("click", sendWhatsApp);
    els.sendTelegram2.addEventListener("click", sendTelegram);

    els.scrollToProducts.addEventListener("click", ()=> {
      document.getElementById("products").scrollIntoView({behavior:"smooth"});
    });

    els.search.addEventListener("input", ()=>{
      const q = els.search.value.trim().toLowerCase();
      const filtered = PRODUCTS.filter(p => (p.title+" "+p.desc).toLowerCase().includes(q));
      renderProducts(filtered);
    });

    renderProducts(PRODUCTS);
    renderCart();
  </script>
</body>
</html>
